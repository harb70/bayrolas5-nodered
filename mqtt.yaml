# 'd02/XXXXXX-XXXXX/v/4.100', 'salt' g/l /10
- state_topic: "d02/23ASE2-05145/v/4.100"
  name: "Salt"
  unique_id: salt
  value_template: "{{ value_json.v / 10 | round(2)}}"
  unit_of_measurement: "g/l"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.102', 'conductivity' mS/cm /10
- state_topic: "d02/23ASE2-05145/v/4.102"
  name: "Conductivity"
  unique_id: conductivity
  value_template: "{{ value_json.v / 10 | round(2)}}"
  unit_of_measurement: "mS/cm"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.104', 'electrolyser-voltage' V /10
- state_topic: "d02/23ASE2-05145/v/4.104"
  name: "Electrolyzer voltage"
  unique_id: electrolyser_voltage
  value_template: "{{ value_json.v / 10 | round(2)}}"
  unit_of_measurement: "V"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.105', 'electrolyser-current' A /10
- state_topic: "d02/23ASE2-05145/v/4.105"
  name: "Electrolyzer current"
  unique_id: electrolyser_current
  value_template: "{{ value_json.v / 10 | round(2)}}"
  unit_of_measurement: "A"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.107', 'battery-voltage' V /100
- state_topic: "d02/23ASE2-05145/v/4.107"
  name: "Battery voltage"
  unique_id: battery_voltage
  value_template: "{{ value_json.v / 100 | round(2)}}"
  unit_of_measurement: "V"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.112', 'timer-polarity-reversal' s
- state_topic: "d02/23ASE2-05145/v/4.112"
  name: "Time before next polarity reversal"
  unique_id: timer_polarity_reversal
  value_template: "{{ value_json.v | round(2)}}"
  unit_of_measurement: "s"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.119', 'time-since-last-reversal' s
- state_topic: "d02/23ASE2-05145/v/4.119"
  name: "Time since polarity reversal"
  unique_id: time_since_last_reversal
  value_template: "{{ value_json.v | round(2)}}"
  unit_of_measurement: "s"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.182', 'ph' pH /10
- state_topic: "d02/23ASE2-05145/v/4.182"
  name: "pH"
  unique_id: ph
  value_template: "{{ value_json.v / 10 | round(2)}}"
  unit_of_measurement: ""
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.2', 'ph-target' /10
- state_topic: "d02/23ASE2-05145/v/4.2"
  name: "pH Target"
  unique_id: ph_target
  value_template: "{{ value_json.v /10 | round(2)}}"
  unit_of_measurement: ""
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.26', 'redox-alert-max'
- state_topic: "d02/23ASE2-05145/v/4.26"
  name: "Redox Alert Max"
  unique_id: redox_alert_max
  value_template: "{{ value_json.v | round(2)}}"
  unit_of_measurement: "mV"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.27', 'redox-alert-min'
- state_topic: "d02/23ASE2-05145/v/4.27"
  name: "Redox Alert Min"
  unique_id: redox_alert_min
  value_template: "{{ value_json.v | round(2)}}"
  unit_of_measurement: "mV"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.28', 'redox-alert'
- state_topic: "d02/23ASE2-05145/v/4.28"
  name: "Redox Target"
  unique_id: redox_target
  value_template: "{{ value_json.v | round(2)}}"
  unit_of_measurement: "mV"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.3', 'ph-alert-max' /10
- state_topic: "d02/23ASE2-05145/v/4.3"
  name: "pH Alert Max"
  unique_id: ph_alert_max
  value_template: "{{ value_json.v / 10 | round(2)}}"
  unit_of_measurement: ""
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.34', 'min-control-ph' /100
- state_topic: "d02/23ASE2-05145/v/4.34"
  name: "Minimal approach to control the pH"
  unique_id: min_control_ph
  value_template: "{{ value_json.v / 100 | round(2)}}"
  unit_of_measurement: ""
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.38', 'ph-dosing-cycle' s
- state_topic: "d02/23ASE2-05145/v/4.38"
  name: "pH dosing cycle"
  unique_id: ph_dosing_cycle
  value_template: "{{ value_json.v | round(2)}}"
  unit_of_measurement: "s"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.4', 'ph-alert-min' /10
- state_topic: "d02/23ASE2-05145/v/4.4"
  name: "pH Alert Min"
  unique_id: ph_alert_min
  value_template: "{{ value_json.v / 10 | round(2)}}"
  unit_of_measurement: "pH"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.47', 'ph-dosing-speed' %
- state_topic: "d02/23ASE2-05145/v/4.47"
  name: "pH dosing speed"
  unique_id: ph_dosing_speed
  value_template: "{{ value_json.v | round(2)}}"
  unit_of_measurement: "%"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.5', 'ph-dosage-control-time' m
- state_topic: "d02/23ASE2-05145/v/4.5"
  name: "pH dosage control time interval"
  unique_id: ph_dosage_control_time
  value_template: "{{ value_json.v | round(2)}}"
  unit_of_measurement: "min"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.51', 'polarity-reversal-times' m
- state_topic: "d02/23ASE2-05145/v/4.51"
  name: "Polarity reversal times"
  unique_id: polarity_reversal_times
  value_template: "{{ value_json.v | round(2)}}"
  unit_of_measurement: "min"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.69', 'hour-count' h
- state_topic: "d02/23ASE2-05145/v/4.69"
  name: "Hourly counter"
  unique_id: hour_count
  value_template: "{{ value_json.v | round(2)}}"
  unit_of_measurement: "h"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.7', 'min-count' m
- state_topic: "d02/23ASE2-05145/v/4.7"
  name: "Minutes counter"
  unique_id: min_count
  value_template: "{{ value_json.v | round(2)}}"
  unit_of_measurement: "min"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.82', 'redox' mv
- state_topic: "d02/23ASE2-05145/v/4.82"
  name: "Redox"
  unique_id: redox
  value_template: "{{ value_json.v | round(2)}}"
  unit_of_measurement: "mV"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.89', 'ph-dosing-rate' %
- state_topic: "d02/23ASE2-05145/v/4.89"
  name: "pH dosing rate"
  unique_id: ph_dosing_rate
  value_template: "{{ value_json.v | round(2)}}"
  unit_of_measurement: "%"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.91', 'electrolyser-prod-rate' %
- state_topic: "d02/23ASE2-05145/v/4.91"
  name: "Electrolyzer production rate"
  unique_id: electrolyser_prod_rate
  value_template: "{{ value_json.v | round(2)}}"
  unit_of_measurement: "%"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.92', 'startup-delay' m
- state_topic: "d02/23ASE2-05145/v/4.92"
  name: "Startup delay"
  unique_id: startup_delay
  value_template: "{{ value_json.v | round(2)}}"
  unit_of_measurement: "min"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/4.98', 'temperature' C /10
- state_topic: "d02/23ASE2-05145/v/4.98"
  name: "Temperature"
  unique_id: temperature
  value_template: "{{ value_json.v / 10 | round(2)}}"
  unit_of_measurement: "Â°C"
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/5.3', 'ph-prod-rate' %
- state_topic: "d02/23ASE2-05145/v/5.3"
  name: "Ph production rate"
  unique_id: ph_prod_rate
  value_template: >
    {% if value_json.v | float == 19.5 %}
      "x0.75"
    {% elif value_json.v | float == 19.7 %}
      "x1.25"
    {% elif value_json.v | float == 19.6 %}
      "Normal"
    {% else %}
      "UNKNOWN"
    {% endif %}
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/5.40', 'redox-state'
- state_topic: "d02/23ASE2-05145/v/5.40"
  name: "Redox ON / OFF"
  unique_id: redox_state
  value_template: >
    {% if value_json.v | float == 19.17 %}
      "ON"
    {% elif value_json.v | float == 19.18 %}
      "OFF"
    {% else %}
      "UNKNOWN"
    {% endif %}
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/5.41', 'redox-mode'
- state_topic: "d02/23ASE2-05145/v/5.41"
  name: "Redox Mode"
  unique_id: redox_mode
  value_template: >
    {% if value_json.v | float == 19.195 %}
      "Auto"
    {% elif value_json.v | float == 19.115 %}
      "Auto Plus"
    {% elif value_json.v | float == 19.106 %}
      "Constant Production"
    {% else %}
      "UNKNOWN"
    {% endif %}
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/5.42', 'ph-state'
- state_topic: "d02/23ASE2-05145/v/5.42"
  name: "pH ON / OFF"
  unique_id: ph_state
  value_template: >
    {% if value_json.v | float == 19.17 %}
      "ON"
    {% elif value_json.v | float == 19.18 %}
      "OFF"
    {% else %}
      "UNKNOWN"
    {% endif %}
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"

# 'd02/XXXXXX-XXXXX/v/5.98', 'filtration-state'
- state_topic: "d02/23ASE2-05145/v/5.98"
  name: "Filtration"
  unique_id: filtration_state
  value_template: >
    {% if value_json.v | float == 19.177 %}
      "ON"
    {% elif value_json.v | float == 19.176 %}
      "OFF"
    {% else %}
      "UNKNOWN"
    {% endif %}
  device:
    name: "bayrolas5"
    identifiers: "23ASE2-05145"
